<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://demo.webwork.rochester.edu/webwork2_files/js/apps/LocalStorage/localstorage.js"></script>



<script>
var path = "https://demo.webwork.rochester.edu"; 
var json_input = {
    "answersSubmitted" : "0",
    "sourceFilePath" : "Library/Union/setIntFTC/sc5_4_13.pg",
    "problemSeed" : "123567",
    "courseID" : "daemon_course",
    "userID" : "daemon",
    "course_password" : "daemon",
    "showSummary" : "1",
    "displayMode" : "MathJax",
    "problemIdentifierPrefix" : "102",
    "language" : "en",
    "outputformat" : "standard",
};
function insertWebworkIframe(options, 
	path="https://demo.webwork.rochester.edu", 
	width="800",
	height="400"){
	var str = `<iframe width = "${width}" height = "${height}" src="${path}/webwork2/html2xml?`;
	
	for (var key in options ){
		str += ("&" + key + "=" + options[key]);
	}
	
	str +='"></iframe><br/>';
	return (str); 
	//src="http://demo.webwork.rochester.edu/webwork2/html2xml?&answersSubmitted=0&sourceFilePath=Library/Union/setIntFTC/sc5_4_13.pg&problemSeed=123567&courseID=daemon_course&userID=daemon&course_password=daemon&showSummary=1&displayMode=MathJax&problemIdentifierPrefix=102&language=en&outputformat=sticky"></iframe><br/>');
};


$(document).ready(function(){
 $("button").click(function(){
     $("#div1").append( insertWebworkIframe(json_input) );
   })
});
</script>
</head>
<body>

<div id="div1"><h2>Let jQuery AJAX Change This Text</h2></div>

<button>Get External Content</button>

</body>
</html>
<!--
To do: rewrite function to fake named inputs: 
check that options is an object. 
-->
